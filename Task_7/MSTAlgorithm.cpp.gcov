        -:    0:Source:MSTAlgorithm.cpp
        -:    1:#include "MSTAlgorithm.h"
        -:    2:#include <vector>
        -:    3:#include <stack>
        -:    4:#include <sstream>
        -:    5:
        -:    6:/**
        -:    7: * DFS over the whole graph to test connectivity.
        -:    8: * We consider all vertices; if any vertex is unreachable, the graph is disconnected.
        -:    9: */
function _ZL22isConnectedAllVerticesRK5Graph called 2 returned 100% blocks executed 76%
        2:   10:static bool isConnectedAllVertices(const Graph& g) {
        2:   11:    const int n = g.V();
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
       2*:   12:    if (n == 0) return true; // vacuously connected
branch  0 taken 0 (fallthrough)
branch  1 taken 2
       2*:   13:    if (n == 1) return true; // single vertex
branch  0 taken 0 (fallthrough)
branch  1 taken 2
        -:   14:
        2:   15:    const std::vector<int>* adj = g.raw();
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        2:   16:    std::vector<char> seen(n, 0);
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
call    3 returned 2
        -:   17:
        -:   18:    // Find a start vertex that exists (0..n-1). For unweighted adjacency, 0 is fine.
        2:   19:    int start = 0;
        2:   20:    std::stack<int> st;
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        2:   21:    st.push(start);
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        2:   22:    seen[start] = 1;
call    0 returned 2
        -:   23:
       12:   24:    while (!st.empty()) {
call    0 returned 12
branch  1 taken 10
branch  2 taken 2 (fallthrough)
       10:   25:        int u = st.top(); st.pop();
call    0 returned 10
call    1 returned 10
       36:   26:        for (int v : adj[u]) {
call    0 returned 10
call    1 returned 10
call    2 returned 26
call    3 returned 26
call    4 returned 36
branch  5 taken 26
branch  6 taken 10 (fallthrough)
       26:   27:            if (!seen[v]) {
call    0 returned 26
branch  1 taken 8 (fallthrough)
branch  2 taken 18
        8:   28:                seen[v] = 1;
call    0 returned 8
        8:   29:                st.push(v);
call    0 returned 8
branch  1 taken 8 (fallthrough)
branch  2 taken 0 (throw)
        -:   30:            }
        -:   31:        }
        -:   32:    }
        -:   33:
        -:   34:    // If any vertex is unseen, the graph is disconnected
       12:   35:    for (int i = 0; i < n; ++i) {
branch  0 taken 10
branch  1 taken 2 (fallthrough)
      10*:   36:        if (!seen[i]) return false;
call    0 returned 10
branch  1 taken 0 (fallthrough)
branch  2 taken 10
        -:   37:    }
        2:   38:    return true;
        2:   39:}
call    0 returned 2
call    1 returned 2
call    2 never executed
call    3 never executed
        -:   40:
function _ZN12MSTAlgorithm3runB5cxx11ERK5Graph called 2 returned 100% blocks executed 62%
        2:   41:std::string MSTAlgorithm::run(const Graph& g) {
        2:   42:    const int n = g.V();
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        2:   43:    std::ostringstream out;
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        -:   44:
        2:   45:    if (n == 0) {
branch  0 taken 0 (fallthrough)
branch  1 taken 2
    #####:   46:        out << "MST weight (unit): 0  (empty graph)";
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:   47:        return out.str();
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
        -:   48:    }
        2:   49:    if (!isConnectedAllVertices(g)) {
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
branch  3 taken 0 (fallthrough)
branch  4 taken 2
    #####:   50:        out << "MST does not exist: graph is disconnected (spanning tree requires one connected component).";
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
    #####:   51:        return out.str();
call    0 never executed
branch  1 never executed (fallthrough)
branch  2 never executed (throw)
        -:   52:    }
        -:   53:
        -:   54:    // Unweighted MST (unit edges): weight equals number of edges in any spanning tree = V - 1
        2:   55:    out << "MST weight (unit): " << (n - 1);
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
call    3 returned 2
branch  4 taken 2 (fallthrough)
branch  5 taken 0 (throw)
        2:   56:    return out.str();
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        2:   57:}
call    0 returned 2
call    1 never executed
